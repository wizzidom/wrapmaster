<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kitchen Vinyl Wrapping Quotes</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <div class="container">
        <!-- Login/Signup Section -->
        <div id="auth-section" class="auth-container">
            <div class="auth-tabs">
                <button id="login-tab" class="tab-btn active">Login</button>
                <button id="signup-tab" class="tab-btn">Sign Up</button>
            </div>
            
            <!-- Login Form -->
            <div id="login-form" class="auth-form">
                <h2>Login</h2>
                <form id="loginForm">
                    <input type="email" id="login-email" placeholder="Email" required>
                    <input type="password" id="login-password" placeholder="Password" required>
                    <button type="submit">Login</button>
                </form>
            </div>
            
            <!-- Signup Form -->
            <div id="signup-form" class="auth-form hidden">
                <h2>Sign Up</h2>
                <form id="signupForm">
                    <input type="text" id="signup-name" placeholder="Full Name" required>
                    <input type="email" id="signup-email" placeholder="Email" required>
                    <input type="password" id="signup-password" placeholder="Password" required>
                    <button type="submit">Sign Up</button>
                </form>
            </div>
        </div>

        <!-- Quote Calculator Section -->
        <div id="quote-section" class="quote-container hidden">
            <div class="header">
                <h1>Kitchen Vinyl Wrapping Quote Calculator</h1>
                <div class="header-actions">
                    <button id="saved-quotes-btn" class="saved-quotes-btn">My Saved Quotes</button>
                    <button id="logout-btn" class="logout-btn">Logout</button>
                </div>
            </div>
            
            <div class="calculator">
                <div class="step">
                    <label for="doors-input">Number of Doors/Sides:</label>
                    <input type="number" id="doors-input" min="1" placeholder="Enter number of doors/sides">
                </div>
                
                <div class="step" id="material-step" style="display: none;">
                    <h3>Select Material Type:</h3>
                    <div class="material-options">
                        <label class="material-option">
                            <input type="radio" name="material" value="coverstyle" data-rate="500">
                            <span>Coverstyle - R500 per metre</span>
                        </label>
                        <label class="material-option">
                            <input type="radio" name="material" value="policut" data-rate="120">
                            <span>Policut 6000 - R120 per metre</span>
                        </label>
                        <label class="material-option">
                            <input type="radio" name="material" value="hexis" data-rate="120">
                            <span>Hexis - R120 per metre</span>
                        </label>
                        <label class="material-option">
                            <input type="radio" name="material" value="maizey" data-rate="120">
                            <span>Maizey Plastics - R120 per metre</span>
                        </label>
                        <label class="material-option">
                            <input type="radio" name="material" value="stixo" data-rate="80">
                            <span>Stixo (Gloss White/Light Grey) - R80 per metre</span>
                        </label>
                    </div>
                </div>
                
                <div class="step" id="transport-step" style="display: none;">
                    <label for="transport-input">Transportation Cost (Optional):</label>
                    <input type="number" id="transport-input" min="0" step="0.01" placeholder="Enter transportation cost (R0 if none)">
                </div>
                
                <button id="calculate-btn" class="calculate-btn" style="display: none;">Calculate Quote</button>
                
                <div id="quote-result" class="quote-result" style="display: none;">
                    <h3>Quote Summary</h3>
                    <div class="result-details">
                        <p><strong>Number of Doors/Sides:</strong> <span id="result-doors"></span></p>
                        <p><strong>Square Metres:</strong> <span id="result-sqm"></span></p>
                        <p><strong>Project Duration:</strong> <span id="result-days"></span> day(s)</p>
                        <p><strong>Material:</strong> <span id="result-material"></span></p>
                        <p><strong>Material Cost:</strong> R<span id="result-material-cost"></span></p>
                        <p><strong>Installation Fee:</strong> R<span id="result-installation"></span></p>
                        <p><strong>Food Cost:</strong> R<span id="result-food-cost"></span></p>
                        <p><strong>Transportation Cost:</strong> R<span id="result-transport-cost"></span></p>
                        <p class="total"><strong>Total Quote:</strong> R<span id="result-total"></span></p>
                    </div>
                    <div class="quote-actions">
                        <input type="text" id="quote-name-input" placeholder="Enter quote name (optional)" class="quote-name-input">
                        <button id="save-quote-btn" class="save-quote-btn">Save Quote</button>
                        <button id="new-quote-btn" class="new-quote-btn">New Quote</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Saved Quotes Section -->
        <div id="saved-quotes-section" class="saved-quotes-container hidden">
            <div class="header">
                <h1>My Saved Quotes</h1>
                <div class="header-actions">
                    <button id="back-to-calculator-btn" class="back-btn">Back to Calculator</button>
                    <button id="logout-btn-saved" class="logout-btn">Logout</button>
                </div>
            </div>
            
            <div class="saved-quotes-content">
                <div id="saved-quotes-list" class="saved-quotes-list">
                    <!-- Saved quotes will be loaded here -->
                </div>
                <div id="no-quotes-message" class="no-quotes-message hidden">
                    <p>You haven't saved any quotes yet.</p>
                    <button id="create-first-quote-btn" class="create-quote-btn">Create Your First Quote</button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>